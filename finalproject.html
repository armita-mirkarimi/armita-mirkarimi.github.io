<!DOCTYPE html>
<html>
  <head>
    <title>Mapping Iran's Contemporary Protests</title>
     <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
     <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
   integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
   crossorigin=""/>
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
   integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
   crossorigin=""></script>

    
    <style>
      #map { height: 400px; width: 700px; }
      html, body { height: 100%; margin: 0; padding: 0; }
    </style>
    
    <script>

      $(document).ready( function() {

          var map = L.map('map').setView([32.4279, 53.6880], 4);
          var layerGroup = new L.LayerGroup();

          var title = L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
            maxZoom: 19, 
            attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>, Tiles courtesy of <a href="http://www.openstreetmap.org/" target="_blank">OpenStreetMap</a>'
            });
          layerGroup.addLayer(title);
          layerGroup.addTo(map);

          var response = $.ajax({
              url: "https://armita-mirkarimi.github.io/Iran_Population.geojson",
              dataType: "json",
              success: console.log("It worked!"),
              error: function(xhr) {
                   alert(xhr.statusText); 
              }
          });

          var response1 = $.ajax({
              url: "armita-mirkarimi.github.io/Iran_Population.geojson",
              dataType: "json",
              success: console.log("It worked again!"),
              error: function(xhr) {
                   alert(xhr.statusText); 
              }
          });

          var all = $.when(response, response1);
          
          all.done(function() );
    </script>
    
    
  </head>

  <body>
    <h1>Mapping Iran's Contemporary Protests</h1>
    <div id="map"></div>    
  </body>
</html>
